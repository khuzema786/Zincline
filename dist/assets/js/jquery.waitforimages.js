!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(l){var m="waitForImages";l.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},l.expr[":"]["has-src"]=function(e){return l(e).is('img[src][src!=""]')},l.expr[":"].uncached=function(e){return!!l(e).is(":has-src")&&!e.complete},l.fn.waitForImages=function(){var c,o,t,u=0,h=0,f=l.Deferred();if(l.isPlainObject(arguments[0])?(t=arguments[0].waitForAll,o=arguments[0].each,c=arguments[0].finished):t=1===arguments.length&&"boolean"===l.type(arguments[0])?arguments[0]:(c=arguments[0],o=arguments[1],arguments[2]),c=c||l.noop,o=o||l.noop,t=!!t,l.isFunction(c)&&l.isFunction(o))return this.each(function(){var n=l(this),i=[],e=l.waitForImages.hasImageProperties||[],r=l.waitForImages.hasImageAttributes||[],a=/url\(\s*(['"]?)(.*?)\1\s*\)/g;t?n.find("*").addBack().each(function(){var n=l(this);n.is("img:has-src")&&!n.is("[srcset]")&&i.push({src:n.attr("src"),element:n[0]}),l.each(e,function(e,r){var t,s=n.css(r);if(!s)return!0;for(;t=a.exec(s);)i.push({src:t[2],element:n[0]})}),l.each(r,function(e,r){if(!n.attr(r))return!0;i.push({src:n.attr("src"),srcset:n.attr("srcset"),element:n[0]})})}):n.find("img:has-src").each(function(){i.push({src:this.src,element:this})}),(h=0)===(u=i.length)&&(c.call(n[0]),f.resolveWith(n[0])),l.each(i,function(e,t){var r=new Image,s="load."+m+" error."+m;l(r).one(s,function e(r){r=[h,u,"load"==r.type];if(h++,o.apply(t.element,r),f.notifyWith(t.element,r),l(this).off(s,e),h==u)return c.call(n[0]),f.resolveWith(n[0]),!1}),t.srcset&&(r.srcset=t.srcset),r.src=t.src})}),f.promise();throw new TypeError("An invalid callback was supplied.")}});