!function(I){function o(i,t){var e=I.extend({},I.fn.nivoSlider.defaults,t),n={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},a=I(i),o=(a.data("nivo:vars",n).addClass("nivoSlider"),a.children()),g=(o.each(function(){var i=I(this),t="";i.is("img")||(i.is("a")&&(i.addClass("nivo-imageLink"),t=i),i=i.find("img:first")),i.width(),i.height();""!==t&&t.css("display","none"),i.css("display","none"),n.totalSlides++}),e.randomStart&&(e.startSlide=Math.floor(Math.random()*n.totalSlides)),0<e.startSlide&&(e.startSlide>=n.totalSlides&&(e.startSlide=n.totalSlides-1),n.currentSlide=e.startSlide),I(o[n.currentSlide]).is("img")?n.currentImage=I(o[n.currentSlide]):n.currentImage=I(o[n.currentSlide]).find("img:first"),I(o[n.currentSlide]).is("a")&&I(o[n.currentSlide]).css("display","block"),I("<img/>").addClass("nivo-main-image")),x=(g.attr("src",n.currentImage.attr("src")).show(),a.append(g),I(window).resize(function(){a.children("img").width(a.width()),g.attr("src",n.currentImage.attr("src")),g.stop().height("auto"),I(".nivo-slice").remove(),I(".nivo-box").remove()}),a.append(I('<div class="nivo-caption"></div>')),function(i){var t,e=I(".nivo-caption",a);""!=n.currentImage.attr("title")&&null!=n.currentImage.attr("title")?("#"==(t=n.currentImage.attr("title")).substr(0,1)&&(t=I(t).html()),"block"==e.css("display")?setTimeout(function(){e.html(t)},i.animSpeed):(e.html(t),e.stop().fadeIn(i.animSpeed))):e.stop().fadeOut(i.animSpeed)}),r=(x(e),0);if(!e.manualAdvance&&1<o.length&&(r=setInterval(function(){d(a,o,e,!1)},e.pauseTime)),e.directionNav&&(a.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+e.prevText+'</a><a class="nivo-nextNav">'+e.nextText+"</a></div>"),I(a).on("click","a.nivo-prevNav",function(){if(n.running)return!1;clearInterval(r),r="",n.currentSlide-=2,d(a,o,e,"prev")}),I(a).on("click","a.nivo-nextNav",function(){if(n.running)return!1;clearInterval(r),r="",d(a,o,e,"next")})),e.controlNav){n.controlNavEl=I('<div class="nivo-controlNav"></div>'),a.after(n.controlNavEl);for(var s,c=0;c<o.length;c++)e.controlNavThumbs?(n.controlNavEl.addClass("nivo-thumbs-enabled"),(s=(s=o.eq(c)).is("img")?s:s.find("img:first")).attr("data-thumb")&&n.controlNavEl.append('<a class="nivo-control" rel="'+c+'"><img src="'+s.attr("data-thumb")+'" alt="" /></a>')):n.controlNavEl.append('<a class="nivo-control" rel="'+c+'">'+(c+1)+"</a>");I("a:eq("+n.currentSlide+")",n.controlNavEl).addClass("active"),I("a",n.controlNavEl).bind("click",function(){return!n.running&&(!I(this).hasClass("active")&&(clearInterval(r),r="",g.attr("src",n.currentImage.attr("src")),n.currentSlide=I(this).attr("rel")-1,void d(a,o,e,"control")))})}function l(i){this.console&&void 0!==console.log&&console.log(i)}e.pauseOnHover&&a.hover(function(){n.paused=!0,clearInterval(r),r=""},function(){n.paused=!1,""!==r||e.manualAdvance||(r=setInterval(function(){d(a,o,e,!1)},e.pauseTime))}),a.bind("nivo:animFinished",function(){g.attr("src",n.currentImage.attr("src")),n.running=!1,I(o).each(function(){I(this).is("a")&&I(this).css("display","none")}),I(o[n.currentSlide]).is("a")&&I(o[n.currentSlide]).css("display","block"),""!==r||n.paused||e.manualAdvance||(r=setInterval(function(){d(a,o,e,!1)},e.pauseTime)),e.afterChange.call(this)});var w=function(i,t,e){I(e.currentImage).parent().is("a")&&I(e.currentImage).parent().css("display","block"),I('img[src="'+e.currentImage.attr("src")+'"]',i).not(".nivo-main-image,.nivo-control img").width(i.width()).css("visibility","hidden").show();for(var n=(I('img[src="'+e.currentImage.attr("src")+'"]',i).not(".nivo-main-image,.nivo-control img").parent().is("a")?I('img[src="'+e.currentImage.attr("src")+'"]',i).not(".nivo-main-image,.nivo-control img").parent():I('img[src="'+e.currentImage.attr("src")+'"]',i).not(".nivo-main-image,.nivo-control img")).height(),a=0;a<t.slices;a++){var o=Math.round(i.width()/t.slices);a===t.slices-1?i.append(I('<div class="nivo-slice" name="'+a+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+a*o-o)+'px;" /></div>').css({left:o*a+"px",width:i.width()-o*a+"px",height:n+"px",opacity:"0",overflow:"hidden"})):i.append(I('<div class="nivo-slice" name="'+a+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+a*o-o)+'px;" /></div>').css({left:o*a+"px",width:o+"px",height:n+"px",opacity:"0",overflow:"hidden"}))}I(".nivo-slice",i).height(n),g.stop().animate({height:I(e.currentImage).height()},t.animSpeed)},S=function(i,t,e){I(e.currentImage).parent().is("a")&&I(e.currentImage).parent().css("display","block"),I('img[src="'+e.currentImage.attr("src")+'"]',i).not(".nivo-main-image,.nivo-control img").width(i.width()).css("visibility","hidden").show();for(var n=Math.round(i.width()/t.boxCols),a=Math.round(I('img[src="'+e.currentImage.attr("src")+'"]',i).not(".nivo-main-image,.nivo-control img").height()/t.boxRows),o=0;o<t.boxRows;o++)for(var r=0;r<t.boxCols;r++)r===t.boxCols-1?i.append(I('<div class="nivo-box" name="'+r+'" rel="'+o+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block; top:-"+a*o+"px; left:-"+n*r+'px;" /></div>').css({opacity:0,left:n*r+"px",top:a*o+"px",width:i.width()-n*r+"px"})):i.append(I('<div class="nivo-box" name="'+r+'" rel="'+o+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block; top:-"+a*o+"px; left:-"+n*r+'px;" /></div>').css({opacity:0,left:n*r+"px",top:a*o+"px",width:n+"px"})),I('.nivo-box[name="'+r+'"]',i).height(I('.nivo-box[name="'+r+'"] img',i).height()+"px");g.stop().animate({height:I(e.currentImage).height()},t.animSpeed)},d=function(s,i,c,t){var e=s.data("nivo:vars");if(e&&e.currentSlide===e.totalSlides-1&&c.lastSlide.call(this),(!e||e.stop)&&!t)return!1;c.beforeChange.call(this),t&&("prev"===t&&g.attr("src",e.currentImage.attr("src")),"next"!==t)||g.attr("src",e.currentImage.attr("src")),e.currentSlide++,e.currentSlide===e.totalSlides&&(e.currentSlide=0,c.slideshowEnd.call(this)),e.currentSlide<0&&(e.currentSlide=e.totalSlides-1),I(i[e.currentSlide]).is("img")?e.currentImage=I(i[e.currentSlide]):e.currentImage=I(i[e.currentSlide]).find("img:first"),c.controlNav&&(I("a",e.controlNavEl).removeClass("active"),I("a:eq("+e.currentSlide+")",e.controlNavEl).addClass("active")),x(c),I(".nivo-slice",s).remove(),I(".nivo-box",s).remove();var l=c.effect,t="",n=("random"===c.effect&&(t=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),void 0===(l=t[Math.floor(Math.random()*(t.length+1))])&&(l="fade")),-1!==c.effect.indexOf(",")&&(t=c.effect.split(","),void 0===(l=t[Math.floor(Math.random()*t.length)])&&(l="fade")),e.currentImage.attr("data-transition")&&(l=e.currentImage.attr("data-transition")),e.running=!0,0),a=0,i="",o="",r="",t="";if("sliceDown"===l||"sliceDownRight"===l||"sliceDownLeft"===l)w(s,c,e),a=n=0,i=I(".nivo-slice",s),(i="sliceDownLeft"===l?I(".nivo-slice",s)._reverse():i).each(function(){var i=I(this);i.css({top:"0px"}),a===c.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},c.animSpeed,"",function(){s.trigger("nivo:animFinished")})},100+n):setTimeout(function(){i.animate({opacity:"1.0"},c.animSpeed)},100+n),n+=50,a++});else if("sliceUp"===l||"sliceUpRight"===l||"sliceUpLeft"===l)w(s,c,e),a=n=0,i=I(".nivo-slice",s),(i="sliceUpLeft"===l?I(".nivo-slice",s)._reverse():i).each(function(){var i=I(this);i.css({bottom:"0px"}),a===c.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},c.animSpeed,"",function(){s.trigger("nivo:animFinished")})},100+n):setTimeout(function(){i.animate({opacity:"1.0"},c.animSpeed)},100+n),n+=50,a++});else if("sliceUpDown"===l||"sliceUpDownRight"===l||"sliceUpDownLeft"===l){w(s,c,e);var n=0,a=0,d=0,i=I(".nivo-slice",s);(i="sliceUpDownLeft"===l?I(".nivo-slice",s)._reverse():i).each(function(){var i=I(this);0===a?(i.css("top","0px"),a++):(i.css("bottom","0px"),a=0),d===c.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},c.animSpeed,"",function(){s.trigger("nivo:animFinished")})},100+n):setTimeout(function(){i.animate({opacity:"1.0"},c.animSpeed)},100+n),n+=50,d++})}else if("fold"===l)w(s,c,e),a=n=0,I(".nivo-slice",s).each(function(){var i=I(this),t=i.width();i.css({top:"0px",width:"0px"}),a===c.slices-1?setTimeout(function(){i.animate({width:t,opacity:"1.0"},c.animSpeed,"",function(){s.trigger("nivo:animFinished")})},100+n):setTimeout(function(){i.animate({width:t,opacity:"1.0"},c.animSpeed)},100+n),n+=50,a++});else if("fade"===l)w(s,c,e),(o=I(".nivo-slice:first",s)).css({width:s.width()+"px"}),o.animate({opacity:"1.0"},2*c.animSpeed,"",function(){s.trigger("nivo:animFinished")});else if("slideInRight"===l)w(s,c,e),(o=I(".nivo-slice:first",s)).css({width:"0px",opacity:"1"}),o.animate({width:s.width()+"px"},2*c.animSpeed,"",function(){s.trigger("nivo:animFinished")});else if("slideInLeft"===l)w(s,c,e),(o=I(".nivo-slice:first",s)).css({width:"0px",opacity:"1",left:"",right:"0px"}),o.animate({width:s.width()+"px"},2*c.animSpeed,"",function(){o.css({left:"0px",right:""}),s.trigger("nivo:animFinished")});else if("boxRandom"===l)S(s,c,e),r=c.boxCols*c.boxRows,n=a=0,(t=b(I(".nivo-box",s))).each(function(){var i=I(this);a===r-1?setTimeout(function(){i.animate({opacity:"1"},c.animSpeed,"",function(){s.trigger("nivo:animFinished")})},100+n):setTimeout(function(){i.animate({opacity:"1"},c.animSpeed)},100+n),n+=20,a++});else if("boxRain"===l||"boxRainReverse"===l||"boxRainGrow"===l||"boxRainGrowReverse"===l){S(s,c,e);var r=c.boxCols*c.boxRows,v=n=a=0,m=0,u=[];u[v]=[],t=I(".nivo-box",s),(t="boxRainReverse"!==l&&"boxRainGrowReverse"!==l?t:I(".nivo-box",s)._reverse()).each(function(){u[v][m]=I(this),++m===c.boxCols&&(m=0,u[++v]=[])});for(var p=0;p<2*c.boxCols;p++){for(var h=p,f=0;f<c.boxRows;f++)0<=h&&h<c.boxCols&&(!function(i,t,e,n){var a=I(u[f][i]),o=a.width(),r=a.height();"boxRainGrow"!==l&&"boxRainGrowReverse"!==l||a.width(0).height(0),e===n-1?setTimeout(function(){a.animate({opacity:"1",width:o,height:r},c.animSpeed/1.3,"",function(){s.trigger("nivo:animFinished")})},100+t):setTimeout(function(){a.animate({opacity:"1",width:o,height:r},c.animSpeed/1.3)},100+t)}(h,n,a,r),a++),h--;n+=100}}},b=function(i){for(var t,e,n=i.length;n;t=parseInt(Math.random()*n,10),e=i[--n],i[n]=i[t],i[t]=e);return i};return this.stop=function(){I(i).data("nivo:vars").stop||(I(i).data("nivo:vars").stop=!0,l("Stop Slider"))},this.start=function(){I(i).data("nivo:vars").stop&&(I(i).data("nivo:vars").stop=!1,l("Start Slider"))},e.afterLoad.call(this),this}I.fn.nivoSlider=function(a){return this.each(function(i,t){var e=I(this);if(e.data("nivoslider"))return e.data("nivoslider");var n=new o(this,a);e.data("nivoslider",n)})},I.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},I.fn._reverse=[].reverse}(jQuery);